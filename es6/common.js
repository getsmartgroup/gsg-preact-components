export const fun = (type, f) => {
    return (...params) => {
        return type.returnType().parse(f(type.parameters().parse(params)));
    };
};
export default fun;
// prettier-ignore
export const addAsyncHook = (f, effect, capture, filter, final) => {
    return ((...p) => {
        return f(...(filter ? filter(...p) : p))
            .then(res => {
            if (effect) {
                return effect(res);
            }
            else {
                return res;
            }
        })
            .catch(capture)
            .finally(final);
    }).bind(f);
};
export const addSafeHook = (f, effect, capture, filter, final) => {
    return addAsyncHook(f, res => {
        if (effect) {
            effect(res);
        }
        return res;
    }, capture, (...p) => {
        if (filter) {
            filter(...p);
        }
        return p;
    }, final);
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbW9uLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbW1vbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQSxNQUFNLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBa0MsSUFBTyxFQUFFLENBQWEsRUFBRSxFQUFFO0lBQzlFLE9BQU8sQ0FBQyxHQUFHLE1BQTRDLEVBQXdDLEVBQUU7UUFDaEcsT0FBTyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUNuRSxDQUFDLENBQUE7QUFDRixDQUFDLENBQUE7QUFDRCxlQUFlLEdBQUcsQ0FBQTtBQUdsQixrQkFBa0I7QUFDbEIsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFHLENBQzNCLENBQUksRUFDSixNQUF5QyxFQUN6QyxPQUE4QixFQUM5QixNQUErQyxFQUMvQyxLQUE0QixFQUMzQixFQUFFO0lBQ0gsT0FBUSxDQUNQLENBQUMsR0FBRyxDQUFRLEVBQUUsRUFBRTtRQUNmLE9BQU8sQ0FBQyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxHQUFJLENBQW1CLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDMUQsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ1gsSUFBSyxNQUFNLEVBQUc7Z0JBQ2IsT0FBTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7YUFDbEI7aUJBQU07Z0JBQ04sT0FBTyxHQUFHLENBQUE7YUFDVjtRQUNGLENBQUMsQ0FBRTthQUNGLEtBQUssQ0FBQyxPQUFPLENBQUM7YUFDZCxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7SUFDaEIsQ0FBQyxDQUNNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO0FBQ2pCLENBQUMsQ0FBQTtBQUNELE1BQU0sQ0FBQyxNQUFNLFdBQVcsR0FBRyxDQUMxQixDQUFJLEVBQ0osTUFBeUMsRUFDekMsT0FBOEIsRUFDOUIsTUFBcUMsRUFDckMsS0FBNEIsRUFDM0IsRUFBRTtJQUNILE9BQU8sWUFBWSxDQUNsQixDQUFDLEVBQ0QsR0FBRyxDQUFDLEVBQUU7UUFDTCxJQUFJLE1BQU0sRUFBRTtZQUNYLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQTtTQUNYO1FBQ0QsT0FBTyxHQUFHLENBQUE7SUFDWCxDQUFDLEVBQ0QsT0FBTyxFQUNQLENBQUMsR0FBRyxDQUFnQixFQUFFLEVBQUU7UUFDdkIsSUFBSSxNQUFNLEVBQUU7WUFDWCxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQTtTQUNaO1FBQ0QsT0FBTyxDQUFDLENBQUE7SUFDVCxDQUFDLEVBQ0QsS0FBSyxDQUNMLENBQUE7QUFDRixDQUFDLENBQUEifQ==