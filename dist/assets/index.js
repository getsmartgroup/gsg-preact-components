var o=Object.defineProperty,l=Object.prototype.hasOwnProperty,e=Object.getOwnPropertySymbols,n=Object.prototype.propertyIsEnumerable,t=(l,e,n)=>e in l?o(l,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):l[e]=n,r=(o,r)=>{for(var i in r||(r={}))l.call(r,i)&&t(o,i,r[i]);if(e)for(var i of e(r))n.call(r,i)&&t(o,i,r[i]);return o};import{C as i,a,q as s,l as d,b as u,F as c,y as m,B as v,c as p,N as b}from"./vendor.js";!function(o=".",l="__import__"){try{self[l]=new Function("u","return import(u)")}catch(e){const n=new URL(o,location),t=o=>{URL.revokeObjectURL(o.src),o.remove()};self[l]=o=>new Promise(((e,r)=>{const i=new URL(o,n);if(self[l].moduleMap[i])return e(self[l].moduleMap[i]);const a=new Blob([`import * as m from '${i}';`,`${l}.moduleMap['${i}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(a),onerror(){r(new Error(`Failed to import: ${o}`)),t(s)},onload(){e(self[l].moduleMap[i]),t(s)}});document.head.appendChild(s)})),self[l].moduleMap={}}}("/assets/");class C extends a.AbstractWrapper{getID(){return this.data.id}constructor(o){var l,e;super(o),this.coloredParts=["shell","cabinet"].map((l=>{var e,n;const t=o[l+"Image"];return{name:l,image:null==(e=null==t?void 0:t[0])?void 0:e.url,color:null==(n=o[l])?void 0:n[0]}})),this.combinedColor=(null==(e=null==(l=this.data.combinationColor)?void 0:l[0])?void 0:e.name)?o:null}get combinedImage(){var o,l;return null==(l=null==(o=this.data.combinationImage)?void 0:o[0])?void 0:l.url}}const f=(o,l)=>{let e=o;const n=o=>{e=r(r({},e),o),l(e)},t=o=>l=>n({[o]:l}),i=t("combinations"),a=t("error"),s=t("colorsIndex"),d=t("combinedColors"),u=(o,l)=>{var n,t;const r={},i=e.combinations.filter((e=>{for(const n of e.coloredParts)if(n.name===o&&n.color&&n.color.name!==l)return!1;return!0})),a=[];for(const d of i){let o=0;for(const l of d.coloredParts)l.color&&e.selectedPartColors[l.name]===l.color.name&&o++;a[o]=d}const s=a.pop();if(null==s?void 0:s.coloredParts)for(const e of s.coloredParts)(null==(n=null==e?void 0:e.color)?void 0:n.name)&&(null==e?void 0:e.name)&&(r[e.name]=null==(t=null==e?void 0:e.color)?void 0:t.name);return r},c=o=>{const l=e.selectedPartColors;return e.combinations.filter((e=>{for(const n of e.coloredParts)if(n.name!==o&&l[n.name]&&n.color&&l[n.name]!==n.color.name)return!1;return!0}),[])},m=o=>{var l,e;return null!=(e=null==(l=c(o))?void 0:l.reduce(((l,e)=>(e.coloredParts.forEach((e=>{var n;(null==e?void 0:e.name)===o&&(null==(n=null==e?void 0:e.color)?void 0:n.name)&&l.push(e.color.name)})),l)),[]))?e:[]},v=(o,l)=>m(o).includes(l);return{state:e,actions:{setCombinations:i,setError:a,setColorsIndexedByPart:o=>{t("colorsIndexedByPart")(o)},setColorsIndex:s,setCombinedColors:d,selectPartColor:(o,l)=>{v(o,l)?n({selectedPartColors:r(r({},e.selectedPartColors),{[o]:l})}):n({selectedPartColors:u(o,l)})},selectCombinedColor:o=>{n({selectedCombinedColor:o})}},utilities:{getCompatibleCombinationsFor:c,getCompatibleColorsFor:m,isCompatiblePartColor:v,getSelectionCompatibleWith:u,getSelectedCombination:()=>{var o;return null==(o=null==e?void 0:e.combinations)?void 0:o.find((o=>{var l;if(o.coloredParts.length>0){for(const n of o.coloredParts)if(!e.selectedPartColors[n.name]||e.selectedPartColors[n.name]!==(null==(l=null==n?void 0:n.color)?void 0:l.name))return!1;return!0}return!1}))}}}},g=s(null),h=()=>{var o;return null==(o=c(g))?void 0:o.state},y=()=>{var o;return null==(o=c(g))?void 0:o.actions},P=()=>{var o;return null==(o=c(g))?void 0:o.utilities},x=({children:o})=>{const[l,e]=d({combinations:[],colorsIndexedByPart:{},selectedPartColors:{}});return u(g.Provider,{value:f(l,e)},o)},I=()=>{const{error:o}=h();return console.log("[ERROR]",o),u("div",null,u("div",null,"An Error Occurred"),u("p",null,null==o?void 0:o.name),u("p",null,null==o?void 0:o.stack))},w=()=>{var o,l;const{combinations:e,selectedCombinedColor:n}=h(),{getSelectedCombination:t}=P(),r=t(),i=n?[null==(o=e.find((o=>{var l;return(null==(l=null==o?void 0:o.combinedColor)?void 0:l.name)===n})))?void 0:o.combinedImage]:(null==r?void 0:r.combinedImage)?[r.combinedImage]:null==(l=null==r?void 0:r.coloredParts)?void 0:l.map((o=>null==o?void 0:o.image));return console.log(i),i?u(v,{w:"full",position:"relative"},i.filter((o=>o)).map((o=>u("img",{src:o,class:"gsg-procuts-hot-tub"})))):null},j=()=>{var o;const{colorsIndexedByPart:l,colorsIndex:e,selectedPartColors:n,combinedColors:t,selectedCombinedColor:r}=h(),{selectPartColor:i,selectCombinedColor:a}=y(),{isCompatiblePartColor:s}=P(),d=Object.entries(l).reduce(((o,[l,t])=>{const r=[],a=[];t.forEach((o=>{var t,d,c;const m=s(l,o),v=null==e?void 0:e[o];if(v){const o={width:"60px",outline:n[l]===(null==v?void 0:v.image)?"1px solid rgba(0,0,0,0.1)":"",opacity:m?1:.5},e=u("li",{style:o,onClick:()=>i(l,null==v?void 0:v.name)},u("img",{style:{width:"60px",height:"60px",objectFit:"cover",position:"static",margin:"auto"},src:null!=(c=null==(d=null==(t=null==v?void 0:v.image)?void 0:t[0])?void 0:d.url)?c:"",alt:`${null==v?void 0:v.name} ${l}`}));m?r.push(e):a.push(e)}}),[]);const d=[];return r.length>0&&d.push(u("div",{style:{marginBottom:20}},u("div",{style:{marginBottom:7}},u("b",null,"Compatible ",l," Colors")),u("ul",{style:{display:"flex",flexWrap:"wrap",listStyle:"none",margin:"0",gap:"16px"}},r))),a.length>0&&d.push(u("div",null,u("div",{style:{marginBottom:7}},u("b",null,"Other ",l," Colors")),u("ul",{style:{display:"flex",flexWrap:"wrap",listStyle:"none",margin:"0",gap:"16px"}},a))),o.push(u("div",{style:{display:"flex"}},d)),o}),[]);if(t&&(null==t?void 0:t.length)>0){const l=null!=(o=null==t?void 0:t.reduce(((o,l)=>{var n,t;const i=null==e?void 0:e[l];return i&&o.push(u("li",{style:{width:"150px",outline:r===(null==i?void 0:i.name)?"1px solid rgba(0,0,0,0.1)":""},onClick:()=>a(null==i?void 0:i.name)},u("img",{style:{width:"100%"},src:null==(t=null==(n=null==i?void 0:i.image)?void 0:n[0])?void 0:t.url,alt:`${null==i?void 0:i.name}`}))),o}),[]))?o:[];d.push(u("div",null,u("div",null,u("b",null,"Combined Colors")),u("ul",{style:{display:"flex",flexWrap:"wrap",listStyle:"none",margin:"0",gap:"16px"}},l)))}return u(p,null,d)},O=()=>u("div",{class:"gsg-color-selector"},u("h3",null,"Color Selector"),u("div",{style:{display:"flex",justifyContent:"space-around"}},u(w,null),u(j,null))),E=({product:o})=>{const{setCombinations:l,setError:e,setColorsIndexedByPart:n,setColorsIndex:t,setCombinedColors:r}=y(),{error:a}=h();return m((()=>{(async o=>i.BaseQL.retrieve("https://api.baseql.com/airtable/graphql/appMt27Uj2WHfsPP7",`\n\tproductColorCombinations( product : "${o}" ) {\n\t\tid\n\t\tshell {\n\t\t\tname\n\t\t}\n\t\tcabinet {\n\t\t\tname\n\t\t}\n\t\tcombinationImage\n\t\tshellImage\n\t\tcabinetImage\n\t\tcombinationColor {\n\t\t\tname\n\t\t}\n\t\tcombinationColorImage\n\t\tcabinetColorImage\n\t\tshellColorImage\n\t}\n\t`).then((o=>(console.log(o),o))).then((o=>{var l;return null==(l=null==o?void 0:o.productColorCombinations)?void 0:l.map((o=>new C(o)))})))(o).then((o=>{var e,i,a;l(o),n(null!=(e=null==o?void 0:o.reduce(((o,l)=>{var e;return null==(e=null==l?void 0:l.coloredParts)||e.forEach((l=>{var e;if(l.color){let n=null!=(e=o[l.name])?e:[];l.color.name&&!n.includes(l.color.name)&&n.push(l.color.name),o[l.name]=n}})),o}),{}))?e:{}),t(null!=(i=null==o?void 0:o.reduce(((o,l)=>{var e,n,t;return(null==l?void 0:l.combinedColor)&&(null==(e=null==l?void 0:l.combinedColor)?void 0:e.name)&&!o[null==(n=null==l?void 0:l.combinedColor)?void 0:n.name]?o[null==(t=null==l?void 0:l.combinedColor)?void 0:t.name]=null==l?void 0:l.combinedColor:l.coloredParts.forEach((l=>{var e,n,t;(null==(e=l.color)?void 0:e.name)&&!o[null==(n=l.color)?void 0:n.name]&&(o[null==(t=null==l?void 0:l.color)?void 0:t.name]=l.color)})),o}),{}))?i:{}),r(null!=(a=null==o?void 0:o.reduce(((o,l)=>{var e;return(null==(e=null==l?void 0:l.combinedColor)?void 0:e.name)&&!o.includes(l.combinedColor.name)&&o.push(l.combinedColor.name),o}),[]))?a:{})})).catch(e)}),[o]),u("div",null,u(a?I:O,null))};var B=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",ProductColors:({product:o})=>u(x,null,u(E,{product:o}))});null==window||window.addEventListener("load",(()=>{document.querySelectorAll("[data-component]").forEach((o=>{const l=o.getAttribute("data-component"),e=o.getAttributeNames().reduce(((l,e)=>{if(e&&"data-component"!==e){const n=o.getAttribute(e);n&&(l[e]=n)}return l}),{});if(l){const n=B[l];n&&b(u(n,r({},e)),o)}}))}));
